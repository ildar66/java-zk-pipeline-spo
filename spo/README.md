Система предкредитной обработки
===============================

[Документация](http://wiki.masterdm.ru/pages/viewpage.action?pageId=885054),
[задачи](http://jira.masterdm.ru/projects/VTBSPO/issues/),
[исходники](http://git.masterdm.ru/projects/VTB/repos/spo-system/browse),
[Бизнесс-процессы](http://git.masterdm.ru/projects/VTB/repos/spo-process/browse)

## Сборка проекта
Если вы не меняете javascript в папке flexWorkflow\WebContent\scripts\form
или в папке flexWorkflow\WebContent\scripts\frontend

    mvn

Этого достаточно. Очевидно, требуется устанорвленный maven и java sdk. 
Если вы меняете js в тех папках,
то нужно прочитать README в этих папках. Полная сборка вместе с обновлением
итоговых js файлов может быть выполнена командой

    build.bat
    
## деплой
приложение работает и тестировалось только на WAS.

[Настроенный образ сервера](http://wiki.masterdm.ru/pages/viewpage.action?pageId=24445113)

## технологии
Проект СПО - потрясающая возможность расширить кругозор и посмотреть примеры 
использования огромного множества различных технологий. Это длительный легаси проект, который
начался примерно в 2007 году. В его развитии принимало участие большое количество разработчиков.
Каждый со своим видением архитектуры, со своими любимыми инструментами. Технический директор компании
любит давать рекомендации по использованию технологий в проектах компании. Сейчас предпочтения такие:

- для веб представления модуля dashboard используется ZK framework
- для генерации отчётов в word, excel, pdf используем aspose через reportSystem
- ORM для работы с базой данных [myBatis через spring](http://www.mybatis.org/spring/mappers.html). Ещё используются JDBC и hibernate
- IoC - spring и EJB наравне
- CSS пишем сразу по простому, без препроцессоров. Less и Sass не используется, слишком простой проект. Хотя в дальнейшем возможно стоит использовать, например, Stylus
- mvc. Исторически использовали JSP. Сейчас предпочитаем spring mvc. Сопротивляйтесь tapestry, не соглашайтесь всё переписать на нём.
- для сериализации/десериализации JSON используем GSON. Jackson не было на момент выбора библиотеки
- интеграция с другими системами обязательно через ru.masterdm.integration.ServiceFactory
- email уведомления обязателны через integration-mailer
- всплывающие диалоговые (возможно модальные) окна настойчиво рекомендуются от jquery-ui.dialog. jqModal и fancybox не рекомендуется, хотя возможно остались места, где они ещё используются
- кодировка для исходников utf-8
- движек бизнесс процессов свой самописный ПУП. С 2013 года обсуждается переход на activity
- шаблонизатор для уведомлений и для spring-mvc - freemarker
- шаблонизатор для фронтэнда предпочтительно react
- в веб-модуле страницы *.html обрабатываются сервлетом spring-mvc, страницы *.do обрабатываются struts
- релиз автоматизирован. Сопроводительное письмо создаётся с использованием spo-system\spoConf\src\changelog.txt
- изменение схемы базы (DDL) и вообще все скрипты делаем через liquibase. Они лежат в spo-system\spo-core\src\main\resources-filtered\db
- для тестирования используется страница /ProdflexWorkflow/test.html. Она доступна только администратору. С ней можно, например, прямо сейчас разослать ночные уведомления или получить объект для отчёта ПКР

## помощь
Если нужна консультация по требованиям, как должно работать, что ожидает заказчик, как удобно:
- по задачам МИУ-2 знает Ольга Рясиченко
- создание и изменение схемы процессов Диля Насырова
- уведомления: Диля Насырова
- нормативные сроки: Ольга Рясиченко, Диля Насырова
- по всем остальным сейчас больше всех знает Диля Насырова

Технические вопросы:
- Отчёты через reportSystem: Лысенков Сергей
- загрузка из access и миграция Банка Москвы: Лысенков Сергей
- взаимодействие с Кредитными Коммитетами: Казанский Илья
- интеграция: Валиев Сергей
- модуль dashboard: Масалов Павел
- все остальные вопросы Андрей Павленко drone@drone.ru

